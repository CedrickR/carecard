<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gestion de la carte des soins RVB Spa</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="app-header">
      <div class="branding">
        <h1>Gestionnaire de carte des soins RVB Spa</h1>
        <p>
          Importez, modifiez et gÃ©nÃ©rez la carte des soins 2025 grÃ¢ce Ã  une
          interface visuelle. Ajoutez, rÃ©organisez ou supprimez des sections et
          leurs lignes en toute simplicitÃ©.
        </p>
      </div>
      <div class="actions">
        <label class="file-input">
          <input type="file" id="file-input" accept="text/html,.html" />
          <span>Charger un fichier HTML</span>
        </label>
        <button id="save-btn" type="button">Sauvegarder le travail</button>
        <button id="download-btn" type="button">TÃ©lÃ©charger le HTML</button>
        <button id="reset-btn" type="button">RÃ©initialiser le modÃ¨le</button>
      </div>
    </header>

    <main class="layout">
      <section class="editor" aria-label="Ã‰diteur de contenu">
        <h2>Sections de la carte</h2>
        <div id="header-editor" class="card"></div>
        <div id="theme-editor" class="card"></div>
        <div id="sections-editor" class="card"></div>
        <button id="add-section" class="add-section" type="button">
          + Ajouter une section
        </button>
      </section>
      <section class="preview" aria-label="AperÃ§u en direct">
        <div class="preview-header">
          <h2>AperÃ§u de la carte gÃ©nÃ©rÃ©e</h2>
          <p>
            Les modifications sont prÃ©visualisÃ©es automatiquement. Le rendu
            ci-dessous reflÃ¨te exactement le fichier HTML tÃ©lÃ©chargÃ©.
          </p>
        </div>
        <iframe id="preview-frame" title="AperÃ§u de la carte"></iframe>
      </section>
    </main>

    <template id="section-template">
      <details class="section-editor">
        <summary>
          <div class="summary-main">
            <span class="summary-chevron" aria-hidden="true"></span>
            <span class="section-label"></span>
          </div>
          <div class="summary-actions" aria-label="Actions sur la section">
            <button type="button" class="summary-button move-section-up" aria-label="Monter la section">Haut</button>
            <button type="button" class="summary-button move-section-down" aria-label="Descendre la section">Bas</button>
            <button type="button" class="summary-button delete-section">Supprimer</button>
          </div>
        </summary>
        <div class="section-form">
          <div class="field-group">
            <label>
              Identifiant (ancre)
              <input type="text" data-field="id" />
            </label>
          </div>
          <div class="multilang-field">
            <span class="group-label">Titre de la section</span>
            <label class="lang-field">
              <span class="lang-flag" aria-hidden="true">ğŸ‡«ğŸ‡·</span>
              <span>FranÃ§ais</span>
              <input type="text" data-field="title.fr" />
            </label>
            <label class="lang-field">
              <span class="lang-flag" aria-hidden="true">ğŸ‡¬ğŸ‡§</span>
              <span>English</span>
              <input type="text" data-field="title.en" />
            </label>
          </div>
          <div class="multilang-field">
            <span class="group-label">LibellÃ© dans le sommaire</span>
            <label class="lang-field">
              <span class="lang-flag" aria-hidden="true">ğŸ‡«ğŸ‡·</span>
              <span>FranÃ§ais</span>
              <input type="text" data-field="navLabel.fr" />
            </label>
            <label class="lang-field">
              <span class="lang-flag" aria-hidden="true">ğŸ‡¬ğŸ‡§</span>
              <span>English</span>
              <input type="text" data-field="navLabel.en" />
            </label>
          </div>
          <div class="multilang-field">
            <span class="group-label">Note (facultatif)</span>
            <label class="lang-field">
              <span class="lang-flag" aria-hidden="true">ğŸ‡«ğŸ‡·</span>
              <span>FranÃ§ais</span>
              <textarea rows="2" data-field="note.fr"></textarea>
            </label>
            <label class="lang-field">
              <span class="lang-flag" aria-hidden="true">ğŸ‡¬ğŸ‡§</span>
              <span>English</span>
              <textarea rows="2" data-field="note.en"></textarea>
            </label>
          </div>
          <label>
            Type de disposition
            <select data-field="layout">
              <option value="grid-2">Grille 2 colonnes</option>
              <option value="grid-1">Grille 1 colonne</option>
              <option value="single">Liste simple</option>
            </select>
          </label>
          <div class="items" data-role="items"></div>
          <button type="button" class="add-item">+ Ajouter une ligne</button>
        </div>
      </details>
    </template>

    <template id="item-template">
      <fieldset class="item-editor">
        <legend>Ligne</legend>
        <div class="multilang-field">
          <span class="group-label">Titre</span>
          <label class="lang-field">
            <span class="lang-flag" aria-hidden="true">ğŸ‡«ğŸ‡·</span>
            <span>FranÃ§ais</span>
            <input type="text" data-field="title.fr" />
          </label>
          <label class="lang-field">
            <span class="lang-flag" aria-hidden="true">ğŸ‡¬ğŸ‡§</span>
            <span>English</span>
            <input type="text" data-field="title.en" />
          </label>
        </div>
        <div class="multilang-field">
          <span class="group-label">Description</span>
          <label class="lang-field">
            <span class="lang-flag" aria-hidden="true">ğŸ‡«ğŸ‡·</span>
            <span>FranÃ§ais</span>
            <div class="rich-text-field">
              <div
                class="rich-text-toolbar"
                role="toolbar"
                aria-label="Outils de mise en forme pour la description en franÃ§ais"
              >
                <button
                  type="button"
                  class="rich-text-button"
                  data-rich-command="bold"
                  aria-label="Mettre en gras"
                >
                  <span aria-hidden="true">G</span>
                </button>
                <button
                  type="button"
                  class="rich-text-button"
                  data-rich-command="italic"
                  aria-label="Mettre en italique"
                >
                  <span aria-hidden="true">I</span>
                </button>
                <button
                  type="button"
                  class="rich-text-button"
                  data-rich-command="insertUnorderedList"
                  aria-label="InsÃ©rer une liste Ã  puces"
                >
                  <span aria-hidden="true">â€¢</span>
                </button>
              </div>
              <div
                class="rich-text-editor"
                contenteditable="true"
                data-field="description.fr"
                data-rich-text="true"
                role="textbox"
                aria-multiline="true"
                aria-label="Description en franÃ§ais"
                data-placeholder="Ajouter une description (optionnel)"
              ></div>
            </div>
          </label>
          <label class="lang-field">
            <span class="lang-flag" aria-hidden="true">ğŸ‡¬ğŸ‡§</span>
            <span>English</span>
            <div class="rich-text-field">
              <div
                class="rich-text-toolbar"
                role="toolbar"
                aria-label="Formatting tools for the English description"
              >
                <button
                  type="button"
                  class="rich-text-button"
                  data-rich-command="bold"
                  aria-label="Bold"
                >
                  <span aria-hidden="true">B</span>
                </button>
                <button
                  type="button"
                  class="rich-text-button"
                  data-rich-command="italic"
                  aria-label="Italic"
                >
                  <span aria-hidden="true">I</span>
                </button>
                <button
                  type="button"
                  class="rich-text-button"
                  data-rich-command="insertUnorderedList"
                  aria-label="Insert bullet list"
                >
                  <span aria-hidden="true">â€¢</span>
                </button>
              </div>
              <div
                class="rich-text-editor"
                contenteditable="true"
                data-field="description.en"
                data-rich-text="true"
                role="textbox"
                aria-multiline="true"
                aria-label="English description"
                data-placeholder="Add a description (optional)"
              ></div>
            </div>
          </label>
        </div>
        <div class="field-group">
          <label>
            DurÃ©e
            <input type="text" data-field="duration" placeholder="(60 mins)" />
          </label>
          <label>
            Tarif
            <input type="text" data-field="price" placeholder="500 dh" />
          </label>
        </div>
        <label>
          Ordre des informations
          <select data-field="metaOrder">
            <option value="duration-first">DurÃ©e puis tarif</option>
            <option value="price-first">Tarif puis durÃ©e</option>
          </select>
        </label>
        <label class="checkbox">
          <input type="checkbox" data-field="spanFull" />
          Ã‰tendre sur toute la largeur (grilles uniquement)
        </label>
        <div class="item-actions">
          <button
            type="button"
            class="move-item-up"
            aria-label="Monter la ligne"
          >
            Haut
          </button>
          <button
            type="button"
            class="move-item-down"
            aria-label="Descendre la ligne"
          >
            Bas
          </button>
          <button type="button" class="delete-item">Supprimer la ligne</button>
        </div>
      </fieldset>
    </template>

    <script src="script.js"></script>
  </body>
</html>
